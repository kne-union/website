<blockquote>
<p>亮点与成就</p>
</blockquote>
<h3>前端工程化升级</h3>
<ol>
<li>node-sass安装问题：以前项目中依赖了node-sass包用于编译sass文件，但是这个包需要依赖外网安装对应平台的二进制编译包，在我们的项目在流水线编译时容易受网络情况影响导致项目打包编译时间过长甚至失败。在对于该包整体性升级之后，ERC项目的构建时间从平均8-10分钟缩短至3-5分钟，并且再未出现过build超时失败的情况。</li>
<li>package 发布流程优化：以前项目的build过程各自维护在自己项目的脚本中，缺乏统一维护，导致在出现某一类问题时，需要对所有项目的打包构建脚本进行修改和升级，非常低效。现在通过actions封装了各个build的过程，将每个build的环节抽象出来，然后根据不同的项目类型，进行组合。在某个build过程需要升级时，直接修改对应过程的build脚本就可以影响所以包含该过程的构建流程，做到了统一维护和升级。</li>
<li>组件库部署逻辑升级: 以前项目的组件库通过流水线构建后发布到oss服务器上，只能发布和部署一个版本，导致开发环境，测试环境，线上环境的代码一致性需要人为保证，且在发布新版本之后，对于一些本期没有修改的项目理论上也会造成更新，导致预期外的问题风险。现在我将组件库的打包和发布过程逻辑统一到@kne/npm-tools包中进行维护，build完成之后可以选择将构建产物发布到cdn环境再同步到oss。可以进行多版本同时部署，这样组件库将以版本来区分一致性，不在区分开发环境，测试环境，线上环境。在代码提测和上线时，只要保证组件库版本一致即可判断为强一致，减少了人为确认的过程。在发布时，如果其他系统不需要新版本的特性可以暂不升级，等下次有功能需求时再同步上线，减少了测试压力。</li>
<li>项目初始化脚手架升级：以前初始化项目通过create-react-app及其自定义项目模板进行创建，它不支持创建时自定义编译参数，导致初始化完的项目还需要进行很多手动的修改才能符合要求，现在我新建了初始化脚手架程序，可以在项目模板中自定义模板变量，和初始化程序执行时命令行交互参数，现在可以一键初始化组件库项目，业务项目，微信小程序组件库项目，微信小程序业务项目，后端项目等。</li>
<li>组件示例项目支持微信小程序组件库的展示，可以便于开发和UI进行组件的选用和示例的运行和示例代码的参考。</li>
</ol>
<h3>前端组件库升级</h3>
<ol>
<li>对Table,FormInfo,Filter组件进行了升级和重构，Table组件添加了不同的列类型让显示更加统一，优化了列宽调整的性能问题和UI显示问题，自动内置了单元格字符超长省略hover自动tooltips提示，敏感信息自动隐藏点击获取对应权限后进行展示等业务小虎功能。
FormInfo组件进行了内部重构，优化了大量字段时的性能问题，新增了多重子表单的支持和子表单新增时可以控制新增的位置。规范了openApi调用和Form内event的参数，避免了多字段联动时偶现赋值bug。修改了字段联动的赋值api，能更加简单地进行多字段的联动设置。
新增了多列单字段模式MultiField，用以支持类似发票号输入场景，新增表单多语言模式，支持CRN的内容国际化。
重构了Filter组件的Advance模式用以支持ERC的复杂简历筛选，用更加合理的方式进行过滤字段值的设置和筛选组件的不同模式设置。</li>
<li>新增了 components-view,components-ckeditor,components-field,components-talent-platform,email-template等组件库，对相应业务场景进行支持。</li>
<li>将组件库划分为node组件库，远程组件库，小程序组件库，并且规范了文档和代码示例参考。</li>
</ol>
<h3>前后端一体化开发的探索与尝试</h3>
<p>为了响应公司对于开发的一职多能的要求和倡议，我新创建了前端团队的一体化开发工作流，完成了基础框架支持，代码编写，项目发布的流程规范。</p>
<p>完成了 @kne/fastify-account和components-account ，可以一键创建管理类项目，支持账号，租户，权限，组织架构等功能，即安装即用
完成了 @kne/fastify-file-manager和components-manager，可以用来进行文件管理，支持本机文件系统和阿里oss</p>
<p>该技术方案，已经在AI测评和数据看板项目中进行使用，可以由前端进行前后端开发和项目部署，适用于ERC项目之外的独立的项目，可以缩短50%以上开发周期。</p>
<blockquote>
<p>挑战和教训</p>
</blockquote>
<p>在团队进行缩编之后，对于开发的基础性建设的收益变得不明显。在拿到新的需求之后，是进行基础建设后再进行业务需求开发还是效率优先先做完需求再说，我非常犹豫。
在进行谨慎地思考后，还是采取了先基础建设再业务开发的路线。因为这样会让所有的项目都能健康和可维护地发展，而不是产生很多一次性代码。
由于现在人员变少，在进行基础建设的时候，需要更多的考虑建设边界问题和团队的整体性收益，需要将和业务相关性低的，投入产出比差的地方削减，并预留可升级的空间。</p>
<blockquote>
<p>自我评价</p>
</blockquote>
<p>在过去的半年中，我主要对去年确定的前端的技术路线进行了补充和升级，以更加全面，更加适用于业务项目，流程更加规范，技术产出更加集中化易于推动业务项目升级为目标。综合取得了良好的成果，并且将成果推进到了所有项目中。
努力地以可复用的技术建设去推动业务的落地，将更少的技术细节暴露与业务项目中，形成了重框架重组件，轻应用层的技术架构，也让产品和UI侧能形成一种习惯与共识，优先使用我们已经完成的成熟技术，大大提高了整个业务线的工作效率，做到了同样的东西坚决不重新设计，不重新开发。
在技术上，通过接入少量的一体化项目的开发任务，拓展前端开发的边界，制定发布流程，标准，框架，让前端同事都能进行一体化项目开发，并且在AI测评和数据看板项目中，体现出更加高效，响应更加快速的开发效果。</p>
<blockquote>
<p>下一步计划</p>
</blockquote>
<ol>
<li>完成@kne/fastify-cms和components-cms，可以支持如帮助中心，官网后台，提示词管理等业务场景的内容管理需求</li>
<li>完成@kne/fastify-message-center和components-message-center，支持消息模板，多消息渠道（邮件，短信，微信公众号，钉钉，企业微信）的消息通知发送与管理</li>
<li>完成@kne/fastify-flow和components-flow，支持自定义流程管理</li>
</ol>
<p>进一步将前后端一体化开发技术方案打造完善，去支持AI测评升级，结算中心等业务需求</p>
