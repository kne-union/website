{"name":"","summary":"","api":"<p>由于cra限制，模板不能拿到project-name，初始化完成后需要再手动进行一些修改，后期会替换掉cra</p>\n<ol>\n<li>\n<p>package.json</p>\n<p>删除</p>\n<pre><code class=\"language-json\">    {\"private\":true}\n</code></pre>\n<p>修改</p>\n<pre><code class=\"language-json\">{\"name\": \"project-name\"}\n</code></pre>\n<p>为</p>\n<pre><code class=\"language-json\">{\"name\": \"@kne/project-name\"}\n</code></pre>\n<p>添加</p>\n<pre><code class=\"language-json\">{\"files\": [\"build\"]}\n</code></pre>\n</li>\n<li></li>\n</ol>\n<p>将components-name替换为实际项目名\n<code>json     {       \"scripts\": {         \"build\": \"cross-env COMPONENTS_NAME=components-name MODULES_DEV_PUBLIC_URL=/components-name  craco build\"       }     }     </code></p>\n<ol start=\"2\">\n<li>\n<p>src/preset.js\n替换其中的components-name为实际项目名</p>\n<pre><code class=\"language-js\">    remoteLoaderPreset({\n        remotes: {\n            default: componentsCoreRemote,\n            'components-core': componentsCoreRemote,\n            'components-name': process.env.NODE_ENV === 'development' ? {\n                remote: 'components-name', url: '/', tpl: '{{url}}'\n            } : {\n                remote: 'components-name',\n                url: 'https://registry.npmmirror.com',\n                tpl: '{{url}}/@kne%2f{{remote}}/{{version}}/files/build',\n                defaultVersion: process.env.DEFAULT_VERSION\n            }\n        }\n    });\n</code></pre>\n</li>\n<li>\n<p>.github/workflows/publish.yml</p>\n<p>将packageName替换为package.json中的name</p>\n<pre><code class=\"language-yml\">- name: Sync To Cnpm\n  run: npm i -g cnpm &amp;&amp; cnpm sync packageName\n</code></pre>\n</li>\n</ol>","example":{"isFull":false,"className":"_d41d8","style":"","list":[]}}
