{"version":3,"file":"static/js/881.0df4bfeb.chunk.js","mappings":"gNAAA,MCIA,EAFa,CAAEA,SDIF,CAAEC,UANG,CAChBC,IAAK,8BACLC,OAAQ,MACRC,MAAO,kB,sDEMLC,OAAOC,iBACTD,OAAOE,WAAaF,OAAOC,iBAE3BD,OAAOE,WAAaC,OAGf,MAAMC,EAAO,MAClB,MAAMC,EAAWC,IAAAA,OAAa,CAC5BC,eAAgB,WACd,OAAO,CACT,IAGF,OAAOC,GACDA,EAAOC,eAAe,WAAsC,oBAAlBD,EAAOE,OAC5CC,QAAQC,QAAQJ,EAAOE,OAAOG,IAAKL,EAAQ,CAAC,aAChDM,MAAKC,IAAI,CACRA,KAAM,CACJC,KAAM,EACND,YAGHE,OAAMC,IACLC,EAAAA,QAAQC,MAAMF,EAAIC,SAAW,wCACtB,CAAEJ,KAAM,CAAEC,KAAM,IAAKK,IAAKH,EAAIC,aAGpCd,EAASG,EAEnB,EAvBmB,GAqGPc,EAAe,CAC1BlB,OACAmB,KAAI,EACJC,WAAY,CACVC,aAAc,UACdC,kBAAmB,Y,0BCtHvB,MAAMC,EAAoBC,IACxBC,EAAAA,EAAAA,IAASD,EAAM,CACbE,UAAUC,EAAAA,EAAAA,KAACC,EAAAA,KAAI,CAACC,MAAO,CAAEC,SAAU,WAAYC,KAAM,MAAOC,UAAW,wBAgB3E,EAbc,CACZC,KAAMV,GAAkB,IAAM,wDAC9BW,iBAAkBX,GAAkB,IAAM,0EAC1CY,KAAMZ,GAAkB,IAAM,0EAC9Ba,aAAcb,GAAkB,IAAM,0EACtCc,QAASd,GAAkB,IAAM,iCACjCe,KAAMf,GAAkB,IAAM,8BAC9BgB,YAAahB,GAAkB,IAAM,iCACrCiB,MAAOjB,GAAkB,IAAM,iCAC/BkB,MAAOlB,GAAkB,IAAM,iCAC/BmB,SAAUnB,GAAkB,IAAM,kCCGpC,GAlBmBoB,EAAAA,EAAAA,wBAAuB,CACxCC,QAAS,CAAC,yBAA0B,2BADnBD,EAEhBE,IAAiD,IAAhD,cAAEC,EAAa,MAAEC,EAAK,OAAEC,KAAWC,GAAOJ,EAC5C,MAAOK,EAAQC,GAAUL,EACzB,OACEnB,EAAAA,EAAAA,KAACuB,EAAM,IAAKD,EAAOD,OAAQA,EAAOI,UAChCzB,EAAAA,EAAAA,KAACwB,EAAM,CACLE,WAAY,CACVC,aAAc,WACdC,KAAMR,GACNK,UAEFzB,EAAAA,EAAAA,KAAC6B,EAAAA,OAAM,OAEF,I,SCVb,MAAM,KAAEvB,EAAI,MAAEQ,EAAK,iBAAEP,EAAgB,KAAEC,EAAI,aAAEC,EAAY,QAAEC,EAAO,KAAEC,EAAI,YAAEC,EAAW,MAAEC,EAAK,SAAEE,GAAae,EAuE3G,EAtEYC,KAER/B,EAAAA,EAAAA,KAACgC,EAAAA,OAAM,CAAAP,UACLQ,EAAAA,EAAAA,MAACC,EAAAA,MAAK,CACJC,KAAK,IACLC,SACEpC,EAAAA,EAAAA,KAACqC,EAAU,CACThB,OAAQ9B,EACRE,WAAYF,EAAaE,WACzB2B,MAAO,CACL,CACEkB,IAAK,OACLC,MAAO,SACPJ,KAAM,SAER,CACEG,IAAK,aACLC,MAAO,2BACPJ,KAAM,eAER,CACEG,IAAK,eACLC,MAAO,qBACPJ,KAAM,iBAER,CACEG,IAAK,UACLC,MAAO,UACPJ,KAAM,YAER,CACEG,IAAK,cACLC,MAAO,qBACPJ,KAAM,gBAER,CACEG,IAAK,OACLC,MAAO,eACPJ,KAAM,SAER,CACEG,IAAK,YACLC,MAAO,2BACPJ,KAAM,aAIbV,SAAA,EAEDzB,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACM,OAAK,EAACJ,SAASpC,EAAAA,EAAAA,KAACM,EAAI,OAC3BN,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,aAAaC,SAASpC,EAAAA,EAAAA,KAACO,EAAgB,OACnDP,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,iBAAiBC,SAASpC,EAAAA,EAAAA,KAACO,EAAgB,OACvDP,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,OAAOC,SAASpC,EAAAA,EAAAA,KAACQ,EAAI,OACjCR,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,WAAWC,SAASpC,EAAAA,EAAAA,KAACQ,EAAI,OACrCR,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,eAAeC,SAASpC,EAAAA,EAAAA,KAACS,EAAY,OACjDT,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,mBAAmBC,SAASpC,EAAAA,EAAAA,KAACS,EAAY,OACrDT,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,UAAUC,SAASpC,EAAAA,EAAAA,KAACU,EAAO,CAAC+B,QAAQ,gBAChDzC,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,YAAYC,SAASpC,EAAAA,EAAAA,KAACU,EAAO,CAAC+B,QAAQ,gBAClDzC,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,OAAOC,SAASpC,EAAAA,EAAAA,KAACW,EAAI,OACjCX,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,cAAcC,SAASpC,EAAAA,EAAAA,KAACY,EAAW,OAC/CZ,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,QAAQC,SAASpC,EAAAA,EAAAA,KAACa,EAAK,OACnCb,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,UAAUC,SAASpC,EAAAA,EAAAA,KAACa,EAAK,OACrCb,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,QAAQC,SAASpC,EAAAA,EAAAA,KAACc,EAAK,OACnCd,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,MAAMC,SAASpC,EAAAA,EAAAA,KAACe,EAAQ,OACpCf,EAAAA,EAAAA,KAACkC,EAAAA,MAAK,CAACC,KAAK,IAAIC,SAASpC,EAAAA,EAAAA,KAAC0C,EAAAA,SAAQ,CAACC,GAAG,eClExCC,EAAOC,EAAAA,WAAoBC,SAASC,eAAe,SACtCC,gBJiCOA,YACxBC,EAAAA,EAAAA,QAAY,CACV5E,OACA6E,SACElD,EAAAA,EAAAA,KAACC,EAAAA,KAAI,CACHkD,MAAO,IACPjD,MAAO,CACLC,SAAU,WACVC,KAAM,MACNgD,QAAS,OACT/C,UAAW,sBAIjBhB,MAAO,KACPgE,OAAOrD,EAAAA,EAAAA,KAACsD,EAAAA,MAAK,IACbC,kBAAmBC,IACjB,MAAM,KAAExE,GAASwE,EAMjB,OALAA,EAASxE,KAAO,CACdC,KAAoB,IAAdD,EAAKC,KAAa,IAAMD,EAAKC,KACnCK,IAAKN,EAAKM,IACVmE,QAASzE,EAAKA,MAETwE,CAAQ,IAInB,MAAM,KAAExE,SAAeX,EAAKqF,OAAOC,OAAO,CAAC,EAAGnE,EAAK5B,SAASC,YAEtD+F,EAAgB,IAAIC,IAAI7E,EAAK,qBAAqB8E,KAAIC,GAAQ,CAACA,EAAKC,KAAMD,MAE1EE,EAAY,iCAChBC,EAAY,+DAERC,EAAuB,CAC3BC,OAAQ,kBACRtG,IAAKmG,EACLI,IAAKH,EACLI,eAAgBV,EAAcW,IAAI,mBAA4B,SAG1DC,EAAmBnE,IACvBrB,EAAK,sBACL,CAACyF,EAAQC,KACPD,EAAOC,EAAMV,MAAQ,CACnBI,OAAQM,EAAMV,KACdlG,IAAKmG,EACLI,IAAKH,EACLI,eAAgBI,EAAMC,QACvB,GAEH,CAAC,GAGGC,EAAOvE,IACXrB,EAAW,MACX,CAACyF,EAAQC,KACPD,EAAOC,EAAMV,MAAQ,CACnBI,OAAQM,EAAMV,KACdlG,IAAKmG,EACLI,IAAKH,EACLI,eAAgBI,EAAMC,QACvB,GAEH,CAAC,IAGHE,EAAAA,EAAAA,QAAmB,CACjBC,QAAS,CACPC,QAASZ,KACNK,KACAI,IAEL,EIzGII,GACNpC,EAAKqC,OAAOxD,EAAS,EAcrByD,EACElF,EAAAA,EAAAA,KAACmF,EAAAA,WAAU,CAAA1D,UACTzB,EAAAA,EAAAA,KAAC+B,EAAG,M","sources":["apis/manifest.js","apis/index.js","preset.js","pages/index.js","MainLayout.js","App.js","bootstrap.js"],"sourcesContent":["const getDetail = {\n  url: '/ued-manifest/manifest.json',\n  method: 'GET',\n  cache: 'ued-manifest'\n};\n\nconst apis = { getDetail };\n\nexport default apis;\n","import { default as manifest } from './manifest';\n\nconst apis = { manifest };\n\nexport default apis;\n","import React from 'react';\nimport { preset as fetchPreset } from '@kne/react-fetch';\nimport { Spin, Empty, message } from 'antd';\nimport axios from 'axios';\nimport { preset as remoteLoaderPreset } from '@kne/remote-loader';\nimport apis from './apis';\nimport transform from 'lodash/transform';\nimport omit from 'lodash/omit';\n\nif (window.runtimePublicUrl) {\n  window.PUBLIC_URL = window.runtimePublicUrl;\n} else {\n  window.PUBLIC_URL = process.env.PUBLIC_URL;\n}\n\nexport const ajax = (() => {\n  const instance = axios.create({\n    validateStatus: function () {\n      return true;\n    }\n  });\n\n  return params => {\n    if (params.hasOwnProperty('loader') && typeof params.loader === 'function') {\n      return Promise.resolve(params.loader(omit(params, ['loader'])))\n        .then(data => ({\n          data: {\n            code: 0,\n            data\n          }\n        }))\n        .catch(err => {\n          message.error(err.message || '请求发生错误');\n          return { data: { code: 500, msg: err.message } };\n        });\n    }\n    return instance(params);\n  };\n})();\n\nexport const globalInit = async () => {\n  fetchPreset({\n    ajax,\n    loading: (\n      <Spin\n        delay={500}\n        style={{\n          position: 'absolute',\n          left: '50%',\n          padding: '10px',\n          transform: 'translateX(-50%)'\n        }}\n      />\n    ),\n    error: null,\n    empty: <Empty />,\n    transformResponse: response => {\n      const { data } = response;\n      response.data = {\n        code: data.code === 0 ? 200 : data.code,\n        msg: data.msg,\n        results: data.data\n      };\n      return response;\n    }\n  });\n\n  const { data } = await ajax(Object.assign({}, apis.manifest.getDetail));\n\n  const componentsMap = new Map(data['remote-components'].map(item => [item.name, item]));\n\n  const remoteUrl = 'https://registry.npmmirror.com',\n    remoteTpl = '{{url}}/@kne-components%2f{{remote}}/{{version}}/files/build';\n\n  const componentsCoreRemote = {\n    remote: 'components-core',\n    url: remoteUrl,\n    tpl: remoteTpl,\n    defaultVersion: componentsMap.get('components-core')['version']\n  };\n\n  const remoteComponents = transform(\n    data['remote-components'],\n    (result, value) => {\n      result[value.name] = {\n        remote: value.name,\n        url: remoteUrl,\n        tpl: remoteTpl,\n        defaultVersion: value.version\n      };\n    },\n    {}\n  );\n\n  const libs = transform(\n    data['libs'],\n    (result, value) => {\n      result[value.name] = {\n        remote: value.name,\n        url: remoteUrl,\n        tpl: remoteTpl,\n        defaultVersion: value.version\n      };\n    },\n    {}\n  );\n\n  remoteLoaderPreset({\n    remotes: {\n      default: componentsCoreRemote,\n      ...remoteComponents,\n      ...libs\n    }\n  });\n};\n\nexport const globalPreset = {\n  ajax,\n  apis,\n  themeToken: {\n    colorPrimary: '#4F185A',\n    colorPrimaryHover: '#702280'\n  }\n};\n","import loadable from '@loadable/component';\nimport { Spin } from 'antd';\n\nconst loadableWithProps = func =>\n  loadable(func, {\n    fallback: <Spin style={{ position: 'absolute', left: '50%', transform: 'translateX(-50%)' }} />\n  });\n\nconst pages = {\n  Home: loadableWithProps(() => import('./Home')),\n  RemoteComponents: loadableWithProps(() => import('./RemoteComponents')),\n  Libs: loadableWithProps(() => import('./Libs')),\n  Miniprograms: loadableWithProps(() => import('./Miniprograms')),\n  PostCat: loadableWithProps(() => import('./PostCat')),\n  Blog: loadableWithProps(() => import('./Blog')),\n  Engineering: loadableWithProps(() => import('./Engineering')),\n  About: loadableWithProps(() => import('./About')),\n  Error: loadableWithProps(() => import('./Error')),\n  NotFound: loadableWithProps(() => import('./NotFound'))\n};\n\nexport default pages;\n","import { createWithRemoteLoader } from '@kne/remote-loader';\nimport { Outlet } from 'react-router-dom';\n\nconst MainLayout = createWithRemoteLoader({\n  modules: ['components-core:Global', 'components-core:Layout']\n})(({ remoteModules, paths, preset, ...props }) => {\n  const [Global, Layout] = remoteModules;\n  return (\n    <Global {...props} preset={preset}>\n      <Layout\n        navigation={{\n          defaultTitle: 'KneUnion',\n          list: paths\n        }}\n      >\n        <Outlet />\n      </Layout>\n    </Global>\n  );\n});\n\nexport default MainLayout;\n","import { Navigate, Route, Routes } from 'react-router-dom';\nimport pages from './pages';\nimport MainLayout from './MainLayout';\nimport { globalPreset } from './preset';\nimport '@kne/modules-dev/dist/create-entry.css';\nimport './index.scss';\n\nconst { Home, Error, RemoteComponents, Libs, Miniprograms, PostCat, Blog, Engineering, About, NotFound } = pages;\nconst App = () => {\n  return (\n    <Routes>\n      <Route\n        path=\"/\"\n        element={\n          <MainLayout\n            preset={globalPreset}\n            themeToken={globalPreset.themeToken}\n            paths={[\n              {\n                key: 'libs',\n                title: '库',\n                path: '/libs'\n              },\n              {\n                key: 'components',\n                title: '远程组件',\n                path: '/components'\n              },\n              {\n                key: 'miniprograms',\n                title: '小程序',\n                path: '/miniprograms'\n              },\n              {\n                key: 'postcat',\n                title: 'PostCat',\n                path: '/postcat'\n              },\n              {\n                key: 'engineering',\n                title: '工程化',\n                path: '/engineering'\n              },\n              {\n                key: 'blog',\n                title: '博客',\n                path: '/blog'\n              },\n              {\n                key: 'kne-union',\n                title: '关于我们',\n                path: '/about'\n              }\n            ]}\n          />\n        }\n      >\n        <Route index element={<Home />} />\n        <Route path=\"components\" element={<RemoteComponents />} />\n        <Route path=\"components/:id\" element={<RemoteComponents />} />\n        <Route path=\"libs\" element={<Libs />} />\n        <Route path=\"libs/:id\" element={<Libs />} />\n        <Route path=\"miniprograms\" element={<Miniprograms />} />\n        <Route path=\"miniprograms/:id\" element={<Miniprograms />} />\n        <Route path=\"postcat\" element={<PostCat baseUrl=\"/postcat\" />} />\n        <Route path=\"postcat/*\" element={<PostCat baseUrl=\"/postcat\" />} />\n        <Route path=\"blog\" element={<Blog />} />\n        <Route path=\"engineering\" element={<Engineering />} />\n        <Route path=\"about\" element={<About />} />\n        <Route path=\"about/*\" element={<About />} />\n        <Route path=\"error\" element={<Error />} />\n        <Route path=\"404\" element={<NotFound />} />\n        <Route path=\"*\" element={<Navigate to=\"404\" />} />\n      </Route>\n    </Routes>\n  );\n};\n\nexport default App;\n","import { HashRouter } from 'react-router-dom';\nimport { globalPreset, globalInit } from './preset';\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nconst renderRoot = async children => {\n  await globalInit();\n  root.render(children);\n};\n\nif (process.env.NODE_ENV === 'development') {\n  import('@kne/modules-dev/dist/create-entry.css');\n  import('@kne/modules-dev/dist/create-entry').then(module => {\n    const Entry = module.default(App);\n    renderRoot(\n      <HashRouter>\n        <Entry preset={globalPreset} themeToken={globalPreset.themeToken} />\n      </HashRouter>\n    );\n  });\n} else {\n  renderRoot(\n    <HashRouter>\n      <App />\n    </HashRouter>\n  );\n}\n"],"names":["manifest","getDetail","url","method","cache","window","runtimePublicUrl","PUBLIC_URL","process","ajax","instance","axios","validateStatus","params","hasOwnProperty","loader","Promise","resolve","omit","then","data","code","catch","err","message","error","msg","globalPreset","apis","themeToken","colorPrimary","colorPrimaryHover","loadableWithProps","func","loadable","fallback","_jsx","Spin","style","position","left","transform","Home","RemoteComponents","Libs","Miniprograms","PostCat","Blog","Engineering","About","Error","NotFound","createWithRemoteLoader","modules","_ref","remoteModules","paths","preset","props","Global","Layout","children","navigation","defaultTitle","list","Outlet","pages","App","Routes","_jsxs","Route","path","element","MainLayout","key","title","index","baseUrl","Navigate","to","root","ReactDOM","document","getElementById","async","fetchPreset","loading","delay","padding","empty","Empty","transformResponse","response","results","Object","assign","componentsMap","Map","map","item","name","remoteUrl","remoteTpl","componentsCoreRemote","remote","tpl","defaultVersion","get","remoteComponents","result","value","version","libs","remoteLoaderPreset","remotes","default","globalInit","render","renderRoot","HashRouter"],"sourceRoot":""}